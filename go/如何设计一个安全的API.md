### API设计出来可以供内部使用，也可以进行开放，但需要考虑安全性

#### 1、先决条件：权限验证（token）

​	sign(id+key+timestamp+nonce(随机数))

​		制定返回token的API，服务提供者给用户颁发唯一id以及key（密码），服务方制作时间戳以及随机数，并将这些值合起来进行加密（sign），返回给用户，用户解密后得到token。token返回建议放到请求头。

​		nonce随机数

#### 2、使用POST方式访问

​	安全性好

#### 3、设置IP白名单

​	防止其他ip进行恶意攻击，

#### 4、对访问接口进行限流

​	使用Redis进行接口访问次数的记录，记录ip+具体接口的访问次数，在一定时间内访问次数过多则拒绝

#### 5、记录接口请求日志

​	全局记录请求日志

#### 6、敏感数据脱敏

​	对请求到的敏感数据进行加密解密，让用户（开放API）得到的是加密的数据

#### 7、请求的幂等性

​	设置缓存，防止过分重复提交

#### 8、数据规范——版本控制

​	可能未来对api进行升级，因此需要在api请求的路径加入版本，达到向前兼容

#### 9、数据规范——响应状态码规范

​	规范设置返回HTTP响应的状态码

#### 10、统一的数据响应格式

​	错误+message(信息描述)+data（数据）